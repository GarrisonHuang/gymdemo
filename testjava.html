<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Demo</title>

</head>

<body>

    <h1> Hello! JavaScript</h1>



    <script>
        let x = 10;
        let y = 20;
        const PI = 3.1415926;
        x = 20;
        let z = x + y;
        console.log(z);
        console.log(x - y);


        /**
        * prompt => 提示輸入    
        * log => 輸出
        * 字串可以跟數值進行運算
        * 使用let => 進行變數宣告
        * typeof => 觀察變數型態
        */

        //取得圓面積邏輯


        //let radius = prompt("請輸入半徑");
        let radius = 5.5;
        console.log(typeof (radius));
        let area = radius ** 2 * PI;

        const result = "半徑為:" + radius + "面積為:" + area;
        console.log(result);
        document.write(result);
        //alert(result);

        /**
        * 程式練習: 計算BMI
        * 讓使用者可以輸入姓名/身高/體重
        * 計算BMI
        * 使用document.write輸出姓名跟bmi
        */

        // 輸入三次
        // for i in range(3):
        //for (let i = 0; i < 3; i++)
        let count = 0;
        let total = 0;
        // 使用while true+break
        while (true) {
            if (count == 3) {
                break;
            }
            let name = prompt("姓名");
            let height = prompt("身高");
            let weight = prompt("體重");

            //身高 體重 輸入不能為空
            // or => || and => &&

            if (height == "" || weight == "") {
                alert("輸入不能為空!")
            }
            else {
                // not => !
                // 身高/體重 範圍 1~500 (包含1,500),否則警告輸入數值不正確
                //if ((height < 1 || height > 500) || (weight < 1 || weight > 500)) 
                if (!isValid(height, 1, 300) || !isValid(weight, 1, 500)) {
                    alert("輸入數值不正確");
                    continue;
                }

                let bmi = weight / (height / 100) ** 2;

                console.log(name, height, weight, bmi);
                // 判斷是否是數值
                if (isNaN(bmi)) {
                    alert("輸入不正確!");
                } else {

                    //document.write("<h1>" + name + "</h1>");

                    document.write(`<h1>${name}</h1>`);
                    document.write(`<li>身高${height}</li>`);
                    document.write(`<li>體重${weight}</li>`);
                    document.write(`<li>BMI${bmi.toFixed(2)}</li>`);
                    count++;
                    total += bmi
                }
            }
            //count+=1

        }
        //document.write("<br>" + name + "bmi" + bmi.toFixed(2));

        //def isValid(value):
        //return value >= 1 and value <= 500
        // 函式宣告 => function

        // 程式練習:輸出平均BMI
        document.write(`<h1>平均BMI:${(total / count).toFixed(2)}</h1>`)

        function isValid(value, start, end) {
            return value >= start && value <= end;
        }


    </script>
</body>

</html>